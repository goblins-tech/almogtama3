<mat-card>
  <mat-card-header>
    <!-- todo: author.name (avatar.text), article.date -->
    <div *ngIf="data.author" mat-card-avatar>
      <img src="{{data.author.img}}" alt="{{data.author.name}}" />
    </div>
    <mat-card-title dir="auto">
      <a href="{{data.link || '#'}}">
        <h1 *ngIf="type=='item'; else normal">{{data.title | length:200}}</h1>
        <ng-template #normal>{{data.title | length:200}}</ng-template>
      </a></mat-card-title
    >
    <mat-card-subtitle *ngIf="data.author">
      <span dir="auto"
        ><a href="{{data.author.link}}">{{data.author.name}}</a></span
      >
      <!--todo: a pipe to convert timestamp or Date to string -->
      <span>{{data.createdAt || data.updatedAt }}</span>
    </mat-card-subtitle>
  </mat-card-header>

  <!-- it is recommended to render the contet that was generated via <quill-editor> inside <quill-view>
  https://www.npmjs.com/package/ngx-quill#quillviewcomponent---using-quilljs-to-render-content
  <mat-card-content
    dir="auto"
    innerHtml="{{data.content | content}}"
  ></mat-card-content> -->

  <!--
    notes:
      - use attr.width instead of width to remove this attribute if data.cover.width
        has no value (i.e: null)
        https://stackoverflow.com/a/62048326/12577650
  -->
  <mat-card-content dir="auto">
    <img
      *ngIf="data.cover"
      mat-card-image
      [attr.width]="data.cover.width"
      [attr.height]="data.cover.height"
      lazyLoad="{{data.cover.lazy? data.cover.srcset || data.cover.src : ''}}"
      sizes="{{data.cover.sizes}}"
      defaultImage="{{data.cover.lazy? data.cover.placeholder || '//via.placeholder.com/'+(data.cover.width||'500')+'x'+(data.cover.height||'250')+'.webp?text=loading...':''}}"
      [useSrcset]="data.cover.lazy && data.cover.srcset"
      src="data.cover.lazy?'':data.cover.src"
      alt="{{data.cover.alt || data.title}}"/>

    <quill-view
      #quillView
      [content]="data.content"
      format="text"
      theme="snow"
    ></quill-view
  ></mat-card-content>
  <!-- todo: use content[] to add content segments, ex: for jobs we need to add: expiration alert -> content -> contacts -->
  <mat-card-actions>
    <!--
    <share-buttons show="5"></share-buttons>
  -->
  </mat-card-actions>
</mat-card>

<!-- <mat-card-actions>
  <button mat-flat-button color="primary">
    <mat-icon>like</mat-icon> Like
  </button>
  <button mat-flat-button color="accent">
    <mat-icon>share</mat-icon> SHARE
  </button>
</mat-card-actions> -->
